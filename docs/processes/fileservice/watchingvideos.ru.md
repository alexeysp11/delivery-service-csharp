# watchingvideos

[English](watchingvideos.md) | [Русский](watchingvideos.ru.md)

Наименование: **Просмотр видео**.

Сценарий просмотра видео в приложении службы доставки предполагает предоставление пользователям доступа и просмотра видео, загруженных из серверной службы приложения или полученных с YouTube.

Паттерн процесса: [transmittingfile](../../processpatterns/transmittingfile.md)

Ответственные модули: [клиентское приложение](../../frontend/customerclient.ru.md), [бэкенд-сервис](../../backend/customerbackend.ru.md)

## Описание процесса

Общая стратегия доставки видео из файловой службы в веб-браузер предполагает, что клиентское приложение отправляет запрос внутренней службе, которая перенаправляет запрос в файловую службу, где хранится видео.
Затем файловая служба передает видео во внутреннюю службу, которая, в свою очередь, отправляет его в веб-браузер для воспроизведения.
Этот процесс включает использование сетевых протоколов и кэширования для обеспечения плавного воспроизведения и минимизации буферизации.

Видео не сохраняется во внешнем интерфейсе, а передается из серверной службы в веб-браузер для воспроизведения.
Данные, хранящиеся во внешнем интерфейсе, можно очистить с помощью различных методов, таких как очистка кеша браузера или использование JavaScript для очистки определенных данных.

Сетевые протоколы, которые можно использовать для передачи видео в приложении службы доставки, включают HTTP, RTMP, HLS и MPEG-DASH.
Выбор протокола зависит от таких факторов, как качество видео, совместимость устройств и условия сети.

Основное различие между стратегией передачи статического видео и потоковой передачей в реальном времени с точки зрения дизайна системы заключается в том, что статические видео могут быть предварительно загружены и кэшированы на стороне клиента, в то время как потоковая передача в реальном времени требует непрерывного потока данных от сервера к клиенту.
Для потоковой передачи в реальном времени также требуется более надежная инфраструктура для передачи данных в реальном времени и обеспечения плавного воспроизведения.

Стратегию потокового вещания в реальном времени можно использовать для передачи статического видео, но это может быть не самое эффективное решение, поскольку оно предполагает непрерывную передачу данных, даже когда видео не воспроизводится.
Предварительная загрузка и кэширование статических видео на стороне клиента может быть более эффективным решением.

![transmittingfile_overall](../../img/processpatterns/transmittingfile_overall.png)

### Пошаговое выполнение

- Пользователь выбирает видео для просмотра.
- Система проверяет, доступно ли видео в серверной службе.
- Если видео доступно, система передает его на устройство пользователя.
    - Данный сервис взаимодействует с [файловым сервисом](../../backend/fileservice.ru.md).
- Если видео недоступно в серверной службе, система получает его с YouTube.
- Система транслирует видео с YouTube на устройство пользователя.
